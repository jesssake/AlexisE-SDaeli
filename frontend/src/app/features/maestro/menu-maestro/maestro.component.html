<div class="maestro-container">
  <!-- DecoraciÃ³n de hojas -->
  <div class="corner-decoration top-left"></div>
  <div class="corner-decoration top-right"></div>
  <div class="corner-decoration bottom-left"></div>
  <div class="corner-decoration bottom-right"></div>
  
  <!-- Header -->
  <header class="header">
    <div class="header-left">
      <button type="button" class="menu-toggle" (click)="toggleMenu()">
        <span>{{ menuAbierto ? 'âœ•' : 'â˜°' }}</span>
      </button>
      <div class="page-info">
        <h1>Panel del Maestro</h1>
        <span class="current-section">{{ seccionActual }}</span>
      </div>
    </div>
    <div class="header-right">
      <div class="user-info">
        <span class="user-initials">{{ obtenerIniciales() }}</span>
        <span class="user-name">{{ nombreUsuario }}</span>
      </div>
    </div>
  </header>

  <!-- Sidebar con menÃº desplegable -->
  <aside class="sidebar" [class.open]="menuAbierto">
    <nav class="nav-menu">
      <!-- CategorÃ­a 1: GestiÃ³n AcadÃ©mica -->
      <div class="menu-category">
        <div class="category-header" (click)="toggleCategory('academica')">
          <span class="category-icon">ğŸ“š</span>
          <span class="category-text">GestiÃ³n AcadÃ©mica</span>
          <span class="category-arrow" [class.open]="categoriasAbiertas.academica">â–¼</span>
        </div>
        <div class="category-items" [class.open]="categoriasAbiertas.academica">
          <a [routerLink]="['/maestro','dashboard']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ“Š</span>
            <span class="nav-text">Dashboard</span>
          </a>
          <a [routerLink]="['/maestro','estudiantes']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ‘¥</span>
            <span class="nav-text">Estudiantes</span>
          </a>
          <a [routerLink]="['/maestro','tareas']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ“</span>
            <span class="nav-text">Tareas</span>
          </a>
          <a [routerLink]="['/maestro','asistencia']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">âœ…</span>
            <span class="nav-text">Asistencia</span>
          </a>
          <a [routerLink]="['/maestro','calificaciones']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ“</span>
            <span class="nav-text">Calificaciones</span>
          </a>
        </div>
      </div>

      <!-- CategorÃ­a 2: ComunicaciÃ³n -->
      <div class="menu-category">
        <div class="category-header" (click)="toggleCategory('comunicacion')">
          <span class="category-icon">ğŸ’¬</span>
          <span class="category-text">ComunicaciÃ³n</span>
          <span class="category-arrow" [class.open]="categoriasAbiertas.comunicacion">â–¼</span>
        </div>
        <div class="category-items" [class.open]="categoriasAbiertas.comunicacion">
          <a [routerLink]="['/maestro','padres']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</span>
            <span class="nav-text">Padres</span>
          </a>
          <a [routerLink]="['/maestro','reportes']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ“ˆ</span>
            <span class="nav-text">Reportes</span>
          </a>
        </div>
      </div>

      <!-- CategorÃ­a 3: AdministraciÃ³n -->
      <div class="menu-category">
        <div class="category-header" (click)="toggleCategory('administracion')">
          <span class="category-icon">âš™ï¸</span>
          <span class="category-text">AdministraciÃ³n</span>
          <span class="category-arrow" [class.open]="categoriasAbiertas.administracion">â–¼</span>
        </div>
        <div class="category-items" [class.open]="categoriasAbiertas.administracion">
          <a [routerLink]="['/maestro','graduacion']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ“</span>
            <span class="nav-text">GraduaciÃ³n</span>
          </a>
          <a [routerLink]="['/maestro','manual']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">ğŸ“–</span>
            <span class="nav-text">Manual</span>
          </a>
          <a [routerLink]="['/maestro','configuracion']"
             routerLinkActive="active"
             class="nav-link"
             (click)="cerrarMenu()">
            <span class="nav-icon">âš™ï¸</span>
            <span class="nav-text">ConfiguraciÃ³n</span>
          </a>
        </div>
      </div>

      <!-- Separador decorativo -->
      <hr class="category-separator">

      <!-- CategorÃ­a de Cerrar SesiÃ³n -->
      <div class="menu-category logout-category">
        <div class="category-header">
          <span class="category-icon">ğŸ”’</span>
          <span class="category-text">SesiÃ³n</span>
        </div>
        <div class="category-items open">
          <button type="button" 
                  (click)="cerrarSesion()" 
                  class="nav-link logout"
                  aria-label="Cerrar sesiÃ³n">
            <span class="nav-icon">ğŸšª</span>
            <span class="nav-text">Cerrar SesiÃ³n</span>
          </button>
        </div>
      </div>
    </nav>
  </aside>

  <!-- Overlay para mÃ³viles -->
  <div class="overlay" [class.active]="menuAbierto" (click)="cerrarMenu()"></div>

  <!-- Contenido -->
  <main class="main-content">
    <router-outlet></router-outlet>
  </main>
</div>